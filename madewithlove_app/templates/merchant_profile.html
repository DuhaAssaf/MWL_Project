{% extends 'base.html' %}
{% load static %}

{% block title %}My Profile | Made With Love{% endblock %}

{% block content %}
<section class="container py-5">
  <div class="text-center mb-5">
    <h2 class="fw-bold text-warning">My Merchant Profile</h2>
    <p class="text-muted">Review your store setup and payout information.</p>
  </div>

  <div class="row g-4 justify-content-center">
    <!-- Store Info -->
    <div class="col-md-6">
      <div class="card p-4 shadow-lg border-0" style="background-color: #003f5c; color: #fbf2c4;">
        <h5 class="mb-3" style="color: #ffa600;">üõçÔ∏è Store Info</h5>
        <p><strong>Store Name:</strong> {{ profile.store.name }}</p>
        <p><strong>Category:</strong> {{ profile.store.category }}</p>
        <p><strong>Description:</strong><br>{{ profile.store.description }}</p>
        {% if profile.store.store_logo %}
          <div class="mt-3">
            <img src="{{ profile.store.store_logo.url }}" alt="Store Logo" class="img-fluid rounded shadow" style="max-height: 120px;">
          </div>
        {% endif %}
      </div>
    </div>

    <!-- Payout Info -->
    <div class="col-md-6">
      <div class="card p-4 shadow-lg border-0" style="background-color: #003f5c; color: #fbf2c4;">
        <h5 class="mb-3" style="color: #ffa600;">üí∏ Payout Details</h5>
        <p><strong>Method:</strong> {{ profile.payout_method }}</p>
        <p><strong>Email / Account:</strong> {{ profile.payout_email }}</p>
        <p><strong>Country:</strong> {{ profile.country }}</p>

        {% if profile.profile_picture %}
        <div class="mt-3">
          <p><strong>Profile Picture:</strong></p>
          <img src="{{ profile.profile_picture.url }}" alt="Profile Pic" class="img-fluid rounded" style="max-height: 120px;">
        </div>
        {% endif %}
      </div>
    </div>
  </div>

  <!-- Store Stats -->
<div class="col-md-6">
    <div class="card p-4 shadow-lg border-0" style="background-color: #003f5c; color: #fbf2c4;">
      <h5 class="mb-3" style="color: #ffa600;">üì¶ Store Stats</h5>
      <p><strong>Total Products:</strong> {{ product_stats.total }}</p>
      <p><strong>Products in Stock:</strong> {{ product_stats.in_stock }}</p>
      <p><strong>Active:</strong> {{ product_stats.active }}</p>
      <p><strong>Inactive:</strong> {{ product_stats.inactive }}</p>
    </div>
  </div>
  

  <div class="text-center mt-3">
    {% if store_link %}
      <a href="{{ store_link }}" class="btn btn-outline-light px-4 border-2">
        Visit My Storefront
      </a>
    {% else %}
      <p class="text-muted">Storefront not yet published.</p>
    {% endif %}
  </div>

  <div class="text-center mt-3">
    <a href="{% url 'storefront_by_slug' slug=profile.store.slug %}" class="btn btn-outline-light px-4 border-2">
      Visit My Storefront
    </a>
  </div>
  <div class="text-center mt-4">
    <a href="{% url 'merchant_setup' %}" class="btn btn-warning px-4">Edit Profile</a>
  </div>
</section>
{% endblock %}
